{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///D:/printx/redmoo/pages/buy.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nconst sampleEvents = [\r\n  { id: 1, name: \"Taylor Swift - The Eras Tour\", date: \"2024-12-15\", venue: \"MetLife Stadium\", price: \"$150\" },\r\n  { id: 2, name: \"Ed Sheeran Live in Concert\", date: \"2024-11-20\", venue: \"Madison Square Garden\", price: \"$120\" },\r\n  { id: 3, name: \"NBA Finals Game 7\", date: \"2024-06-15\", venue: \"Chase Center\", price: \"$200\" },\r\n  { id: 4, name: \"Comic Con 2024\", date: \"2024-07-25\", venue: \"Convention Center\", price: \"$80\" },\r\n];\r\n\r\nexport default function Buy() {\r\n  const router = useRouter();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [walletConnected, setWalletConnected] = useState(false);\r\n  const [showWalletMessage, setShowWalletMessage] = useState(false);\r\n  // REMOVED: const [ticketType, setTicketType] = useState(\"resale\");\r\n\r\n  // Track wallet connection status\r\n  useEffect(() => {\r\n    setWalletConnected(typeof window !== 'undefined' && localStorage.getItem('walletConnected') === 'true');\r\n    const onStorage = () => setWalletConnected(localStorage.getItem('walletConnected') === 'true');\r\n    window.addEventListener('storage', onStorage);\r\n    const interval = setInterval(() => {\r\n      setWalletConnected(localStorage.getItem('walletConnected') === 'true');\r\n    }, 500);\r\n    return () => {\r\n      window.removeEventListener('storage', onStorage);\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  // Only show events if search is not empty\r\n  const filteredEvents = search\r\n    ? sampleEvents.filter(e =>\r\n        e.name.toLowerCase().includes(search.toLowerCase()) ||\r\n        e.venue.toLowerCase().includes(search.toLowerCase())\r\n      )\r\n    : [];\r\n\r\n  const handleBuyClick = (event) => {\r\n    if (!walletConnected) {\r\n      setShowWalletMessage(true);\r\n      // Hide message after 3 seconds\r\n      setTimeout(() => setShowWalletMessage(false), 3000);\r\n    } else {\r\n      // Navigate to event detail page\r\n      router.push(`/event/${event.id}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center h-full\">\r\n      <div className=\"bg-white p-8 rounded-lg shadow-lg text-center w-full max-w-2xl\">\r\n        <h1 className=\"text-3xl font-bold text-[#A31D1D] mb-4 font-chonburi\">Buy Tickets</h1>\r\n        <p className=\"text-[#A31D1D] font-domine mb-6 text-base\">\r\n          Here are tickets available for purchase.\r\n        </p>\r\n        {/* Wallet Connection Message */}\r\n        {showWalletMessage && (\r\n          <div className=\"mb-6 p-4 bg-[#FEF2F2] border border-[#FECACA] rounded-lg\">\r\n            <p className=\"text-[#DC2626] font-domine text-sm\">\r\n              Please connect your wallet first before purchasing tickets.\r\n            </p>\r\n          </div>\r\n        )}\r\n        <div className=\"flex justify-center mb-6\">\r\n          <input\r\n            className=\"border px-4 py-2 rounded font-domine w-full max-w-7xl\"\r\n            style={{ minWidth: '600px' }}\r\n            placeholder=\"Search for events to buy...\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"grid gap-4\">\r\n          {filteredEvents.length === 0 && search && <div className=\"text-gray-500\">No events found.</div>}\r\n          {filteredEvents.map(event => (\r\n            <div key={event.id} className=\"flex flex-col md:flex-row items-center justify-between bg-[#F8F2DE] rounded p-4 shadow\">\r\n              <div className=\"flex-1 text-left\">\r\n                <div className=\"font-bold text-lg font-domine text-[#A31D1D]\">{event.name}</div>\r\n                <div className=\"text-gray-700 font-domine\">{event.date} &bull; {event.venue}</div>\r\n                <div className=\"text-[#D84040] font-bold font-domine\">{event.price}</div>\r\n              </div>\r\n              <button \r\n                onClick={() => router.push(`/resell/${event.id}`)}\r\n                className=\"mt-4 md:mt-0 md:ml-6 bg-[#D84040] text-white px-6 py-2 rounded-full hover:bg-[#A31D1D] font-domine font-medium transition-all\"\r\n              >\r\n                View Details\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}